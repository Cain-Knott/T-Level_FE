<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>Manheim vehicle catalogue</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="home.html" id="home-link">Home</a></li>
                    <li><a href="search.html" id="search-link">Search</a></li>
                    <li><a href="ListOfCars.html" id="CarList-link">List of cars</a></li>
                </ul>
            </nav>
        </aside>
        <main class="main-content">
            <div class="header">
                <h1><u id="car-header">Information for car: (Regplate).</u></h1>
            </div>
            <div id="car-info-container">
                <div id="car-info">
                    <!-- This div will be populated with car information dynamically -->
                </div>
            </div>
        </main>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Function to get URL parameter by name
            function getUrlParameter(name) {
                name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
                var results = regex.exec(location.search);
                return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
            };

            // Get the regplate parameter from the URL
            const regplate = getUrlParameter('plate');

            // Update the header with the regplate
            const carHeader = document.getElementById('car-header');
            carHeader.innerHTML = `Car: <u>${regplate}</u>`;

            // Function to populate the page with mock data
            function populatePageWithData(regplate) {
                const mockData = {
                    "Register Plate": regplate, // Use the regplate from the URL
                    "Make": "Example",
                    "Model": "Example",
                    "Body Style": "Example",
                    "Unit Type": "Example",
                    "Branch Name": "Example",
                    "Odometer": "Example",
                    "Cap Figures": ["Example1", "Example1"],
                    "Service History": "Example",
                    "MOT Status": "Example",
                    "MOT Date": "Example"
                };

                const carInfo = document.getElementById('car-info');
                carInfo.innerHTML = '';

                for (const [title, data] of Object.entries(mockData)) {
                    const item = document.createElement('div');
                    const dataString = Array.isArray(data) ? data.join(', ') : data;
                    item.innerText = `${title}: ${dataString}`;
                    carInfo.appendChild(item);
                }
            }

            // Populate the page with data based on the regplate from URL
            populatePageWithData(regplate);
        });
    </script>
</body>
</html>
